(window.webpackJsonp=window.webpackJsonp||[]).push([[90],{546:function(s,t,a){"use strict";a.r(t);var e=a(19),n=Object(e.a)({},function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"centos7-安装-mysql5-7"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#centos7-安装-mysql5-7","aria-hidden":"true"}},[s._v("#")]),s._v(" CentOS7 安装 MySQL5.7")]),s._v(" "),a("p",[s._v("本文的记录了博主安装Mysql的步骤，以5.7版本为例，下载路径，密码等其他配置也可以自定义，不需要全部参考")]),s._v(" "),a("h2",{attrs:{id:"下载"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#下载","aria-hidden":"true"}},[s._v("#")]),s._v(" 下载")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" app "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 建立app文件夹，有的跳过")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" app "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# app文件夹")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" -i -c http://dev.mysql.com/get/mysql57-community-release-el7-10.noarch.rpm "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 下载")]),s._v("\n")])])]),a("h2",{attrs:{id:"安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装","aria-hidden":"true"}},[s._v("#")]),s._v(" 安装")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ yum -y "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" mysql57-community-release-el7-10.noarch.rpm "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# yum 安装")]),s._v("\n$ yum -y "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" mysql-community-server "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# yum安装MySQL")]),s._v("\n")])])]),a("h2",{attrs:{id:"启动，登录"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#启动，登录","aria-hidden":"true"}},[s._v("#")]),s._v(" 启动，登录")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ systemctl start mysqld "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 启动MySQL")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 为了加强安全性，MySQL5.7为root用户随机生成了一个密码，如果安装的是RPM包，则默认是在/var/log/mysqld.log中。")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'temporary password'")]),s._v(" /var/log/mysqld.log "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看默认密码")]),s._v("\n$ mysql -u root -p "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 登录MySQL")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 输入默认密码")]),s._v("\n")])])]),a("h2",{attrs:{id:"修改密码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#修改密码","aria-hidden":"true"}},[s._v("#")]),s._v(" 修改密码")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 使用默认密码登录，进行操作会报错，需要重置密码，而且默认的密码安全性是中等，也就是说要设置复杂密码才能通过")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" global "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("validate_password_policy")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("LOW"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 设置MySQL的密码等级为低")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" global "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("validate_password_length")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 设置MySQL的密码长度为6")]),s._v("\n$ ALTER "),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("USER")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'root'")]),s._v("@"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'localhost'")]),s._v(" IDENTIFIED BY "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'123456'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 设置root 密码为123456")]),s._v("\n")])])]),a("h2",{attrs:{id:"配置权限"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置权限","aria-hidden":"true"}},[s._v("#")]),s._v(" 配置权限")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ grant all privileges on *.* to root@"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"%"')]),s._v(" identified by "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"123456"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 设置用户 root 可以在任意 IP 下被访问, 密码 123456")]),s._v("\n$ grant all privileges on *.* to root@"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"localhost"')]),s._v(" identified by "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"123456"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 设置root可以在本地访问 密码123456")]),s._v("\n$ flush privileges"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 使授权立即生效")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 退出MySQL ")]),s._v("\n")])])]),a("h2",{attrs:{id:"开放防火墙3306端口"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#开放防火墙3306端口","aria-hidden":"true"}},[s._v("#")]),s._v(" 开放防火墙3306端口")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ firewall-cmd --permanent --zone"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("public --add-port"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3306")]),s._v("/tcp\n$ firewall-cmd --permanent --zone"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("public --add-port"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3306")]),s._v("/udp\n$ firewall-cmd --reload "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 防火墙设置立即生效")]),s._v("\n")])])]),a("h2",{attrs:{id:"常用命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#常用命令","aria-hidden":"true"}},[s._v("#")]),s._v(" 常用命令")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ systemctl start mysqld "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 启动MySQL")]),s._v("\n$ systemctl stop mysqld "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 停止MySQL")]),s._v("\n$ systemctl restart mysqld "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 重启MySQL")]),s._v("\n$ systemctl "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("enable")]),s._v(" mysqld "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 设置开机启动")]),s._v("\n$ systemctl status mysqld "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看MySQL状态")]),s._v("\n")])])])])},[],!1,null,null,null);t.default=n.exports}}]);