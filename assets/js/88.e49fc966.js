(window.webpackJsonp=window.webpackJsonp||[]).push([[88],{549:function(s,t,a){"use strict";a.r(t);var e=a(19),v=Object(e.a)({},function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"账户管理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#账户管理","aria-hidden":"true"}},[s._v("#")]),s._v(" 账户管理")]),s._v(" "),a("h3",{attrs:{id:"etc-passwd"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#etc-passwd","aria-hidden":"true"}},[s._v("#")]),s._v(" "),a("code",[s._v("/etc/passwd")])]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# /etc/passwd 文件")]),s._v("\nlewis:x:1000:1000:lewis:/home/lewis:/bin/bash\n")])])]),a("ul",[a("li",[s._v("lewis : 用户名")]),s._v(" "),a("li",[s._v("X:早期这个部分放的是用户登入才码，现作密码放入了/etc/shadow中了")]),s._v(" "),a("li",[s._v("UID: 0表示系统管理员，1-999保旨7给 杀统使用的ID，1000以 上给一般使用者")]),s._v(" "),a("li",[s._v("GID: 0表示系统管理员，1999保留给系统使用的ID，1000以 上给一般使用者")]),s._v(" "),a("li",[s._v("lewis:使用者信息说明")]),s._v(" "),a("li",[s._v("/home/lewis:用户家目录，用登入时，所在的目录")]),s._v(" "),a("li",[s._v("/bin/bash:用户在登入的时候，是否可以使用shell,如果不能使用shell,则会显示/sbin/ nologin")])]),s._v(" "),a("h3",{attrs:{id:"etc-shadow"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#etc-shadow","aria-hidden":"true"}},[s._v("#")]),s._v(" /etc/shadow")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("root:"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$6")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$n")]),s._v("/rFT5rJDPhQUgDD"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$uZY7DADR0Q24FIoExQcwultLTAawBmSPwmg1nmVV81kJdovtefmqTpL3tjmS0KzduJuqcAQ")]),s._v("/CdyDCiDddiro.::099999:7:::\n")])])]),a("ul",[a("li",[s._v("1、Root: 用户名.")]),s._v(" "),a("li",[s._v("2、一串红色的字:经过加密的密码")]),s._v(" "),a("li",[s._v("3、最近更改过密码的日期:Linux中的日期、是通过1970年1月1号开始累加的日期")]),s._v(" "),a("li",[s._v("4、密码不能改修改的天数: 0表示随时可以他改")]),s._v(" "),a("li",[s._v("5、密码需要重新被修改的天数:通过修改该值，可以强制用户修改密码")]),s._v(" "),a("li",[s._v("7、密码需要变更的告警天数: 7天内系统会想用户发出告警")]),s._v(" "),a("li",[s._v("8、密码到期后，账号还可以使用的时间")]),s._v(" "),a("li",[s._v("9、账号失效日期:通过1970年1月1号开始累加的日期，到了时间后，无论密码是否过期，该账号就不能使用了")]),s._v(" "),a("li",[s._v("10、保留")])]),s._v(" "),a("h3",{attrs:{id:"创建用户-useradd"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建用户-useradd","aria-hidden":"true"}},[s._v("#")]),s._v(" 创建用户 "),a("code",[s._v("useradd")])]),s._v(" "),a("ul",[a("li",[a("code",[s._v("useradd")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("-u")]),s._v(": 设置UID")]),s._v(" "),a("li",[a("code",[s._v("-g")]),s._v(": 设置主要组")]),s._v(" "),a("li",[a("code",[s._v("-G")]),s._v(": 设置要附属组")]),s._v(" "),a("li",[a("code",[s._v("-c")]),s._v(": 设置用户说明")]),s._v(" "),a("li",[a("code",[s._v("-d")]),s._v(": 指定用户家目录")]),s._v(" "),a("li",[a("code",[s._v("-s")]),s._v(": 指定用户shell")]),s._v(" "),a("li",[a("code",[s._v("-e")]),s._v(": 账号失效日期，格式为: YYYY-MIM-DD")]),s._v(" "),a("li",[a("code",[s._v("-f")]),s._v(": 指定密码是否失效，0表示立刻失效，1表示永不失效")])])])]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 创建一个账号test01，设置uid为3000 主要组为testgroup, 附属组为testg01和testg02")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("useradd")]),s._v(" -u "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3000")]),s._v(" -g testgroup -G testg01,testg02 test01\n")])])]),a("h3",{attrs:{id:"修改密码-passwd"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#修改密码-passwd","aria-hidden":"true"}},[s._v("#")]),s._v(" 修改密码 "),a("code",[s._v("passwd")])]),s._v(" "),a("ul",[a("li",[a("code",[s._v("passwd 用户名: 所有人都可以通过该命令来修改自己的密码")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("-l")]),s._v(": 锁住该账号，或者在"),a("code",[s._v("/etc/shadow")]),s._v("中 放密码的位置加个!")]),s._v(" "),a("li",[a("code",[s._v("-u")]),s._v(": 解锁")]),s._v(" "),a("li",[a("code",[s._v("-S")]),s._v(": 显示账号的密码参数")]),s._v(" "),a("li",[a("code",[s._v("-n")]),s._v(": 接天数，设置多久可以不修改密码")]),s._v(" "),a("li",[a("code",[s._v("-X")]),s._v(": 接天数，设置多久内必须修改密码")]),s._v(" "),a("li",[a("code",[s._v("-w")]),s._v(": 接天数，设置密码过期前警告天数")]),s._v(" "),a("li",[a("code",[s._v("-i")]),s._v(": 接天数，设置密码失效天数")])])])]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 锁定test用户")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("passwd")]),s._v(" -l "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 解锁test用户")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("passwd")]),s._v(" -u "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v("\n")])])]),a("h3",{attrs:{id:"删除用户-userdel"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#删除用户-userdel","aria-hidden":"true"}},[s._v("#")]),s._v(" 删除用户 "),a("code",[s._v("userdel")])]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 删除test用户")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("userdel")]),s._v(" -r "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 不加r参数，不会删除家目录和邮箱")]),s._v("\n")])])]),a("h3",{attrs:{id:"acl"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#acl","aria-hidden":"true"}},[s._v("#")]),s._v(" acl")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("setfacl")]),s._v(" 设置acl权限, 其中f是指file")]),s._v(" "),a("li",[a("code",[s._v("getfacl")]),s._v(" 查看acl权限, 其中f是指file")])]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 针对test.html文件，给test用户加上rwx权限")]),s._v("\n$ setfacl -m u:test:rwx test.html\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 针对test.html文件，给testgroup用户组加上rwx权限")]),s._v("\n$ setfacl -m g:testgroup:rwx test.html\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 针对test.html文件，把test用户 删除acl特殊权限")]),s._v("\n$ setfacl -x u:test test.html\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 针对test.html文件，清空附加的acl特殊权限")]),s._v("\n$ setfacl -b test.html\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看test.html文件信息")]),s._v("\n$ getfacl test.html\n")])])])])},[],!1,null,null,null);t.default=v.exports}}]);