(window.webpackJsonp=window.webpackJsonp||[]).push([[67],{608:function(v,e,_){"use strict";_.r(e);var t=_(19),a=Object(t.a)({},function(){var v=this,e=v.$createElement,_=v._self._c||e;return _("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[_("h1",{attrs:{id:"_09-事件"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_09-事件","aria-hidden":"true"}},[v._v("#")]),v._v(" 09 事件")]),v._v(" "),_("ul",[_("li",[_("a",{attrs:{href:"#%E4%BB%80%E4%B9%88%E6%98%AF%E4%BA%8B%E4%BB%B6"}},[v._v("什么是事件")]),v._v(" "),_("ul",[_("li",[_("a",{attrs:{href:"#%E4%BA%8B%E4%BB%B6%E7%BB%91%E5%AE%9A%E6%96%B9%E5%BC%8F"}},[v._v("事件绑定方式")])]),v._v(" "),_("li",[_("a",{attrs:{href:"#%E4%BA%8B%E4%BB%B6%E5%88%86%E7%B1%BB"}},[v._v("事件分类")])])])]),v._v(" "),_("li",[_("a",{attrs:{href:"#Event%E5%AF%B9%E8%B1%A1"}},[v._v("Event对象")]),v._v(" "),_("ul",[_("li",[_("a",{attrs:{href:"#%E4%BB%80%E4%B9%88%E6%98%AFevent%E5%AF%B9%E8%B1%A1"}},[v._v("什么是event对象")])]),v._v(" "),_("li",[_("a",{attrs:{href:"#%E5%A6%82%E4%BD%95%E8%8E%B7%E5%8F%96event%E5%AF%B9%E8%B1%A1"}},[v._v("如何获取event对象")])]),v._v(" "),_("li",[_("a",{attrs:{href:"#Event%E5%AF%B9%E8%B1%A1%E8%AF%A6%E6%83%85"}},[v._v("Event对象详情")])]),v._v(" "),_("li",[_("a",{attrs:{href:"#%E4%BA%8B%E4%BB%B6%E5%86%92%E6%B3%A1"}},[v._v("事件冒泡")])]),v._v(" "),_("li",[_("a",{attrs:{href:"#%E9%98%BB%E6%AD%A2%E6%B5%8F%E8%A7%88%E5%99%A8%E9%BB%98%E8%AE%A4%E8%A1%8C%E4%B8%BA"}},[v._v("阻止浏览器默认行为")])])])]),v._v(" "),_("li",[_("a",{attrs:{href:"#%E4%BA%8B%E4%BB%B6%E7%9B%91%E5%90%AC%E4%B8%8E%E6%8D%95%E8%8E%B7"}},[v._v("事件监听与捕获")]),v._v(" "),_("ul",[_("li",[_("a",{attrs:{href:"#%E4%BA%8B%E4%BB%B6%E7%9B%91%E5%90%AC%E5%99%A8"}},[v._v("事件监听器")])]),v._v(" "),_("li",[_("a",{attrs:{href:"#%E7%A7%BB%E9%99%A4"}},[v._v("移除")])])])]),v._v(" "),_("li",[_("a",{attrs:{href:"#%E6%8B%96%E6%8B%BD%E6%95%88%E6%9E%9C"}},[v._v("拖拽效果")]),v._v(" "),_("ul",[_("li",[_("a",{attrs:{href:"#%E6%8B%96%E6%8B%BD%E7%9A%84%E5%8E%9F%E7%90%86"}},[v._v("拖拽的原理")])]),v._v(" "),_("li",[_("a",{attrs:{href:"#%E6%8B%96%E6%8B%BD%E7%9A%84%E6%80%9D%E8%B7%AF"}},[v._v("拖拽的思路")])])])])]),v._v(" "),_("h2",{attrs:{id:"什么是事件"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#什么是事件","aria-hidden":"true"}},[v._v("#")]),v._v(" 什么是事件")]),v._v(" "),_("p",[v._v("事件是可以被"),_("code",[v._v("JavaScript")]),v._v("侦测到的行为。网页中的每个元素都可以产生某些可以触发"),_("code",[v._v("JavaScript")]),v._v("函数的事件")]),v._v(" "),_("h3",{attrs:{id:"事件绑定方式"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#事件绑定方式","aria-hidden":"true"}},[v._v("#")]),v._v(" 事件绑定方式")]),v._v(" "),_("p",[v._v("格式：元素.on+事件名 = 事件处理程序;")]),v._v(" "),_("p",[_("code",[v._v("div.onclick = function(){}")])]),v._v(" "),_("h3",{attrs:{id:"事件分类"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#事件分类","aria-hidden":"true"}},[v._v("#")]),v._v(" 事件分类")]),v._v(" "),_("ul",[_("li",[v._v("鼠标事件\n"),_("ul",[_("li",[_("code",[v._v("onclick")]),v._v(" 当用户点击某个对象时调用的事件。")]),v._v(" "),_("li",[_("code",[v._v("ondblclick")]),v._v(" 当用户双击某个对象时调用的事件。")]),v._v(" "),_("li",[_("code",[v._v("onmousedown")]),v._v(" 鼠标按钮被按下。")]),v._v(" "),_("li",[_("code",[v._v("onmouseup")]),v._v(" 鼠标按键被松开。")]),v._v(" "),_("li",[_("code",[v._v("onmouseover")]),v._v(" 鼠标移到某元素之上。")]),v._v(" "),_("li",[_("code",[v._v("onmouseout")]),v._v(" 鼠标从某元素移开。")]),v._v(" "),_("li",[_("code",[v._v("onmousemove")]),v._v(" 鼠标被移动时触发。")]),v._v(" "),_("li",[_("code",[v._v("mouseenter")]),v._v(" 在鼠标光标从元素外部移动到元素范围之内时触发。这个事件不冒泡")]),v._v(" "),_("li",[_("code",[v._v("mouseleave")]),v._v(" 在位于元素上方的鼠标光标移动到元素范围之外时触发。这个事件不冒泡，")]),v._v(" "),_("li",[_("code",[v._v("oncontextmenu")]),v._v(" 鼠标右键菜单展开时触发。")])])])]),v._v(" "),_("blockquote",[_("p",[v._v("PS："),_("code",[v._v("click = mousedown + mouseup, dblclick = click*2")]),v._v("(短时间内两次单击);\n执行顺序："),_("code",[v._v("mouseover=>mouseenter; mouseout => mouseleave")])])]),v._v(" "),_("ul",[_("li",[v._v("键盘事件\n"),_("ul",[_("li",[_("code",[v._v("onkeydown")]),v._v(" 某个键盘按键被按下。")]),v._v(" "),_("li",[_("code",[v._v("onkeyup")]),v._v(" 某个键盘按键被松开。")]),v._v(" "),_("li",[_("code",[v._v("onkeypress")]),v._v(" 键盘<字符键>被按下,而且如果按住不放的话，会重复触发此事件。")])])]),v._v(" "),_("li",[v._v("UI事件\n"),_("ul",[_("li",[_("code",[v._v("onload")]),v._v(" 页面元素（包括图片多媒体等）加载完成后")]),v._v(" "),_("li",[_("code",[v._v("onbeforeunload")]),v._v(" 用户退出页面。")]),v._v(" "),_("li",[_("code",[v._v("onresize")]),v._v(" 窗口或框架被重新调整大小。")])])]),v._v(" "),_("li",[v._v("表单事件\n"),_("ul",[_("li",[_("code",[v._v("onselect")]),v._v(" 输入框文本被选中。")]),v._v(" "),_("li",[_("code",[v._v("onblur")]),v._v(" 元素失去焦点时触发。")]),v._v(" "),_("li",[_("code",[v._v("onfocus")]),v._v(" 元素获得焦点时触发。")]),v._v(" "),_("li",[_("code",[v._v("onchange")]),v._v(" 元素内容被改变，且失去焦点时触发。")]),v._v(" "),_("li",[_("code",[v._v("onreset")]),v._v(" 重置按钮被点击。")]),v._v(" "),_("li",[_("code",[v._v("onsubmit")]),v._v(" 确认按钮被点击。")]),v._v(" "),_("li",[_("code",[v._v("oninput")]),v._v(" 输入字符时触发")])])]),v._v(" "),_("li",[v._v("其他事件")])]),v._v(" "),_("h2",{attrs:{id:"event对象"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#event对象","aria-hidden":"true"}},[v._v("#")]),v._v(" Event对象")]),v._v(" "),_("h3",{attrs:{id:"什么是event对象"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#什么是event对象","aria-hidden":"true"}},[v._v("#")]),v._v(" 什么是event对象")]),v._v(" "),_("p",[v._v("事件执行过程中的状态，用来保存当前事件的信息对象")]),v._v(" "),_("h3",{attrs:{id:"如何获取event对象"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#如何获取event对象","aria-hidden":"true"}},[v._v("#")]),v._v(" 如何获取event对象")]),v._v(" "),_("ul",[_("li",[v._v("标准：事件处理函数的第一个参数")])]),v._v(" "),_("p",[_("code",[v._v("div.onclick = function(e){}")])]),v._v(" "),_("ul",[_("li",[v._v("IE8-："),_("code",[v._v("window.event")])])]),v._v(" "),_("blockquote",[_("p",[v._v("获取event对象的兼容写法: "),_("code",[v._v("e = e || window.event;")])])]),v._v(" "),_("h3",{attrs:{id:"event对象详情"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#event对象详情","aria-hidden":"true"}},[v._v("#")]),v._v(" Event对象详情")]),v._v(" "),_("ul",[_("li",[v._v("鼠标/键盘事件Event属性\n"),_("ul",[_("li",[_("code",[v._v("button")]),v._v(" 返回当事件被触发时，哪个鼠标按钮被点击。\n"),_("ul",[_("li",[v._v("W3C标准\n"),_("ul",[_("li",[v._v("0: 代表鼠标按下了左键")]),v._v(" "),_("li",[v._v("1: 代表按下了滚轮")]),v._v(" "),_("li",[v._v("2: 代表按下了右键")])])]),v._v(" "),_("li",[v._v("IE8-（IE8以下的浏览器）\n"),_("ul",[_("li",[v._v("1鼠标左键， 2鼠标右键， 3左右同时按， 4滚轮， 5左键加滚轮， 6右键加滚轮， 7三个同时")])])])])]),v._v(" "),_("li",[_("code",[v._v("which/keyCode")]),v._v(" "),_("ul",[_("li",[v._v("对于keypress事件，该属性声明了被敲击的键生成的 Unicode 字符码(ascii码)")]),v._v(" "),_("li",[v._v("对于keydown和keyup事件，它指定了被敲击的键的虚拟键盘码。虚拟键盘码可能和使用的键盘的布局相关。")])])]),v._v(" "),_("li",[_("code",[v._v("altKey")]),v._v(" 返回当事件被触发时，”ALT” 是否被按下。")]),v._v(" "),_("li",[_("code",[v._v("ctrlKey")]),v._v(" 返回当事件被触发时，”CTRL” 键是否被按下。")]),v._v(" "),_("li",[_("code",[v._v("shiftKey")]),v._v(" 返回当事件被触发时，“Shift” 键是否被按下。")])])]),v._v(" "),_("li",[v._v("光标位置信息\n"),_("ul",[_("li",[_("code",[v._v("clientX /clientY")]),v._v(" 光标相对于浏览器可视区域的位置，也就是浏览器坐标。")]),v._v(" "),_("li",[_("code",[v._v("screenX/screenY")]),v._v(" 光标指针相对于电脑屏幕的水平/垂直坐标。")]),v._v(" "),_("li",[_("code",[v._v("pageX/pageY")]),v._v(":鼠标相对于文档的位置（包括滚动条滚动的距离，即：clientX+window.scrollX，IE8-不支持）")]),v._v(" "),_("li",[_("code",[v._v("offsetX,offsetY")]),v._v(": 光标相对于事件源对象的相对偏移量。\n"),_("ul",[_("li",[v._v("事件源对象：触发事件的对象")])])])])]),v._v(" "),_("li",[_("code",[v._v("Event")]),v._v(" 公共属性\n"),_("ul",[_("li",[_("code",[v._v("type")]),v._v("：被触发的事件的类型(一般用于判断)")]),v._v(" "),_("li",[_("code",[v._v("target")]),v._v(": 返回触发此事件的元素（事件的目标元素）。")]),v._v(" "),_("li",[_("code",[v._v("currentTarget")]),v._v(": 其事件处理程序当前正在处理事件的那个元素")])])]),v._v(" "),_("li",[v._v("IE事件Event属性（ie8-）\n"),_("ul",[_("li",[_("code",[v._v("cancelBubble")]),v._v("：如果事件句柄想阻止事件传播到包容对象，必须把该属性设为 true（同stopPropagation()）。")]),v._v(" "),_("li",[_("code",[v._v("returnValue")]),v._v(": 如果设置了该属性，它的值比事件句柄的返回值优先级高。把这个属性设置为fasle，可以取消发生事件的源元素的默认动作（同preventDefault()）。")]),v._v(" "),_("li",[_("code",[v._v("srcElement")]),v._v(": 对于生成事件的 Window 对象、Document 对象或 Element 对象的引用（同target）。")])])])]),v._v(" "),_("p",[_("img",{attrs:{src:"https://github.com/CoyleCyq/img/blob/master/docImg/eventObject.png?raw=true",alt:"event对象"}})]),v._v(" "),_("h3",{attrs:{id:"事件冒泡"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#事件冒泡","aria-hidden":"true"}},[v._v("#")]),v._v(" 事件冒泡")]),v._v(" "),_("p",[v._v("什么是事件冒泡：")]),v._v(" "),_("blockquote",[_("p",[v._v("在一个对象上触发某类事件（如onclick事件），那么click事件就会沿着DOM树向这个对象的父级传播，从里到外，直至它被处理程序处理，或者事件到达了最顶层（document/window）")])]),v._v(" "),_("ul",[_("li",[v._v("事件源对象：触发事件的元素")])]),v._v(" "),_("p",[v._v("标准：event.target")]),v._v(" "),_("p",[v._v("IE8-：event.srcElement")]),v._v(" "),_("blockquote",[_("p",[v._v("事件源对象在事件传播过程中不会改变\n阻止事件的传播")])]),v._v(" "),_("p",[v._v("标准：event.stopPropagation();")]),v._v(" "),_("p",[v._v("IE8-：event.cancelBubble = true;")]),v._v(" "),_("ol",[_("li",[v._v("不是所有的事件都能冒泡。以下事件不冒泡：blur、focus、load、unload…。")]),v._v(" "),_("li",[v._v("冒泡到最顶层的目标不同。大部分浏览器到window对象，IE8-到document对象")])]),v._v(" "),_("p",[_("img",{attrs:{src:"https://github.com/CoyleCyq/img/blob/master/docImg/%E4%BA%8B%E4%BB%B6%E4%BC%A0%E6%92%AD.png?raw=true",alt:"事件传播"}})]),v._v(" "),_("h3",{attrs:{id:"阻止浏览器默认行为"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#阻止浏览器默认行为","aria-hidden":"true"}},[v._v("#")]),v._v(" 阻止浏览器默认行为")]),v._v(" "),_("blockquote",[_("p",[v._v("链接跳转\n表单提交\n右键菜单…")])]),v._v(" "),_("p",[v._v("标准：event.preventDefault();")]),v._v(" "),_("p",[v._v("IE8-：event.returnValue = false;")]),v._v(" "),_("h2",{attrs:{id:"事件监听与捕获-反冒泡"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#事件监听与捕获-反冒泡","aria-hidden":"true"}},[v._v("#")]),v._v(" 事件监听与捕获(反冒泡)")]),v._v(" "),_("h3",{attrs:{id:"事件监听器"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#事件监听器","aria-hidden":"true"}},[v._v("#")]),v._v(" 事件监听器")]),v._v(" "),_("p",[v._v("格式："),_("code",[v._v("ele.addEventListener")]),v._v("(事件名,事件处理函数,是否捕获)")]),v._v(" "),_("p",[_("code",[v._v('target.addEventListener("click", fn, false);')])]),v._v(" "),_("ul",[_("li",[v._v("可以绑定多个处理函数在一个对象上, 执行顺序按照绑定的顺序来\n"),_("ul",[_("li",[v._v("不同元素事件执行顺序跟html结构有关")]),v._v(" "),_("li",[v._v("相同元素事件执行顺序跟绑定先后有关")])])]),v._v(" "),_("li",[v._v("第三个参数是否使用捕获(反向冒泡)，默认false，为冒泡")])]),v._v(" "),_("p",[v._v("IE8-的事件监听器：")]),v._v(" "),_("p",[v._v("格式："),_("code",[v._v("ele.attachEvent")]),v._v("(on+事件名,事件处理函数)")]),v._v(" "),_("p",[_("code",[v._v('target.attachEvent("onclick",fun);')])]),v._v(" "),_("p",[v._v("可以绑定多个函数在一个对象上, 执行顺序按照绑定的反序")]),v._v(" "),_("h3",{attrs:{id:"移除"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#移除","aria-hidden":"true"}},[v._v("#")]),v._v(" 移除")]),v._v(" "),_("ul",[_("li",[v._v("标准："),_("code",[v._v("removeEventListener('click', fn, true)")]),v._v(" 传入的参数fn要跟添加时一样(同一个函数)，否则不能移除事件")]),v._v(" "),_("li",[v._v("IE8-："),_("code",[v._v("detachEvent('onclick', fun)")]),v._v(" ， 传入的参数fun要跟添加时一样，否则不能移除事件")])]),v._v(" "),_("blockquote",[_("p",[v._v("注意：页面事件绑定数量越多，越影响性能（速度越慢）")])]),v._v(" "),_("h2",{attrs:{id:"拖拽效果"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#拖拽效果","aria-hidden":"true"}},[v._v("#")]),v._v(" 拖拽效果")]),v._v(" "),_("h3",{attrs:{id:"拖拽的原理"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#拖拽的原理","aria-hidden":"true"}},[v._v("#")]),v._v(" 拖拽的原理")]),v._v(" "),_("p",[v._v("鼠标按下且移动鼠标时，改变当前元素的"),_("code",[v._v("top, left")]),v._v("值")]),v._v(" "),_("h3",{attrs:{id:"拖拽的思路"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#拖拽的思路","aria-hidden":"true"}},[v._v("#")]),v._v(" 拖拽的思路")]),v._v(" "),_("ol",[_("li",[_("p",[v._v("给目标元素添加onmousedown事件")]),v._v(" "),_("blockquote",[_("p",[v._v("拖拽的前提是目标元素设置css定位")])]),v._v(" "),_("ul",[_("li",[v._v("记录按下鼠标位置与元素左上角的偏移量offsetX，offsetY")])])]),v._v(" "),_("li",[_("p",[v._v("当onmousedown发生以后，此刻给document添加onmousemove事件")]),v._v(" "),_("blockquote",[_("p",[v._v("意味着此刻鼠标在网页的移动都将改变目标元素的位置")])]),v._v(" "),_("ul",[_("li",[_("p",[v._v("在onmousemove事件中，设定目标元素的left和top：")])]),v._v(" "),_("li",[_("p",[v._v("公式:")]),v._v(" "),_("p",[v._v("目标元素的left = 鼠标的clientX – offsetX")]),v._v(" "),_("p",[v._v("目标元素的top = 鼠标的clientY– offsetY")])])])]),v._v(" "),_("li",[_("p",[v._v("给目标元素添加onmouseup事件，清空document的onmousemove事件")]),v._v(" "),_("blockquote",[_("p",[v._v("意味着拖动过程中鼠标在网页的任意位置松开鼠标，都会放弃拖拽的效果")])])])]),v._v(" "),_("p",[v._v("练习")]),v._v(" "),_("ul",[_("li",[v._v("利用事件委托实现新添加的按钮响应点击事件")]),v._v(" "),_("li",[v._v("制作自定义右键菜单")]),v._v(" "),_("li",[v._v("编写函数封装，解决addEventListener和attachEvent兼容")]),v._v(" "),_("li",[v._v("拖拽效果")]),v._v(" "),_("li",[v._v("拖拽轨迹回放")]),v._v(" "),_("li",[v._v("动态创建可编辑的表格")]),v._v(" "),_("li",[v._v("表单提交前数据验证")]),v._v(" "),_("li",[v._v("鼠标移动轨迹")]),v._v(" "),_("li",[v._v("改变弹窗位置与大小")]),v._v(" "),_("li",[v._v("放大镜简单版")]),v._v(" "),_("li",[v._v("360°全景展示效果")]),v._v(" "),_("li",[v._v("单元格拖拽交换位置")])])])},[],!1,null,null,null);e.default=a.exports}}]);